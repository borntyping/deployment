---
- become: true
  tags:
    - 'stage1'
    - 'stage1-base'
  block:
    - name: 'install packages'
      ansible.builtin.dnf:
        state: 'latest'
        pkg:
          - 'ack'
          - 'ansible-core'
          - 'asciinema'
          - 'bat'
          - 'cargo'
          - 'colordiff'
          - 'composer'
          - 'curl'
          - 'direnv'
          - 'docker-compose'
          - 'exa'
          - 'fd-find'
          - 'fd-find'
          - 'fzf'
          - 'git'
          - 'git-lfs'
          - 'golang'
          - 'htop'
          - 'httpie'
          - 'hub'
          - 'jq'
          - 'micro'
          - 'nano'
          - 'openssl-devel'
          - 'php-cli'
          - 'php-curl'
          - 'php-mbstring'
          - 'php-xsl'
          - 'pipenv'
          - 'plantuml'
          - 'podman-docker'
          - 'python3'
          - 'python3-black'
          - 'python3-devel'
          - 'python3-flake8'
          - 'python3-mypy'
          - 'python3-pip'
          - 'python3-poetry'
          - 'python3-pytest'
          - 'python3-wheel'
          - 'python3.5'
          - 'python3.6'
          - 'python3.7'
          - 'python3.9'
          - 'python3.10'
          - 'ripgrep'
          - 'rustc'
          - 'ShellCheck'
          - 'tree'
          - 'wl-clipboard'
          - 'zsh'
          - 'zsh-autosuggestions'
          - 'zsh-html'
          - 'zsh-syntax-highlighting'
      tags:
        - 'bin'
        - 'dnf'
        - 'docker'
        - 'git'
        - 'lib'
        - 'php'
        - 'python'
        - 'rust'
        - 'zsh'

    - name: 'configure sudo'
      ansible.builtin.copy:
        src: 'etc/sudoers.d/sam'
        dest: '/etc/sudoers.d/sam'
      tags:
        - docker
        - sudo
        - sudoers
