---
- tags:
    - 'cargo'
    - 'rust'
  block:
    - name: 'install cargo packages'
      ansible.builtin.command: 'cargo install {{ item.package }}'
      args:
        creates: '{{ lookup("env", "HOME") }}/.cargo/bin/{{ item.bin|default(item.package) }}'
      loop:
        - package: atuin
        - package: difftastic
          bin: difft
      loop_control:
        label: '{{ item.package }}'
