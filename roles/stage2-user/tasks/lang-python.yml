---
- tags: python
  block:
    - name: create pip configuration directory
      file:
        name: '{{ ansible_env.HOME }}/.config/pip/'
        state: directory

    - name: create pip configuration
      copy:
        src: 'config/pip/pip.conf'
        dest: '{{ ansible_env.HOME }}/.config/pip/pip.conf'

    - name: install python packages
      pip:
        name:
          - ctop
          - httpie
          - peru
          - pip
          - pipenv
          - secretstorage
          - ssh-run
          - tox
          - v
          - watch-fs
          - wheel
        state: latest
        executable: pip3
        extra_args: --user
