[user]
    name = Sam Clements
    email = sam@borntyping.co.uk

[core]
    editor = micro
    autocrlf = input
    pager = less -+FX
    excludesfile = ~/.config/git/gitignore
    hooksPath = ~/.config/git/hooks

[push]
    default = current

[branch]
    autosetuprebase = always

[rebase]
    autostash = true

[merge]
    tool = meld
    conflictstyle = diff3

[credential]
    helper = store

[rerere]
    enabled = true

#
# Check object integrity
#

[transfer]
    fsckobjects = true
[fetch]
    fsckobjects = true
[receive]
    fsckobjects = true

#
# Aliases
#

[pretty]
    graph=%C(red)%h%C(reset) %s%C(cyan)%d%C(reset) %C(bold green)(%ar, %an)%C(reset)

[alias]
    hist = log --graph --pretty=graph --date=short --decorate -n 10
    history = log --graph --pretty=graph --date=short --decorate
    ignored = ls-files -o -i --exclude-standard

    create-merge-request = push -o merge_request.create
    finish-merge-request = !git pull origin master:master && git checkout master && git cleanup
    force-amend-and-push = !git commit --all --amend --no-edit && git push --force-with-lease
    rebase-onto-master = !git fetch origin master:master && git rebase master && git push -f

[pager]
    hist = less -FX

#
# UI
#

[color]
    diff = auto
    status = auto
    branch = auto
    ui = auto
    interactive = auto
    pager = true

[color "status"]
    added = green
    changed = yellow
    untracked = red

[diff]
    # Try and break diffs at blank lines.
    compactionHeuristic = true

[commit]
    # Always show verbose commits
    verbose = true

#
# Utilities
#

[gui]
    historybrowser = gitg
    editor = pycharm-professional

[cola]
    tabwidth = 4
    fontdiff = Fantasque Sans Mono,11,-1,5,50,0,0,0,0,0
    spellcheck = true

[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true

[lfs "https://gitlab.infosum.io/"]
	locksverify = false

[diff "fidelius"]
    textconv = "gpg --batch --quiet --decrypt"
