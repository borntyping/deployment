[user]
    name = {{ git_name }}
    email = {{ git_email }}

[core]
    editor = micro
    autocrlf = input
    pager = less -+FX
    excludesfile = {{ ansible_env.HOME }}/.config/git/gitignore
    hooksPath = {{ ansible_env.HOME }}/.config/git/hooks

[push]
    default = current

[branch]
    autosetuprebase = always

[rebase]
    autostash = true

[credential]
    helper = store

#
# Check object integrity
#

[transfer]
    fsckobjects = true
[fetch]
    fsckobjects = true
[receive]
    fsckobjects = true

#
# Aliases
#

[pretty]
    graph=%C(red)%h%C(reset) %s%C(cyan)%d%C(reset) %C(bold green)(%ar, %an)%C(reset)

[alias]
    sync = !git pull && git push
    pr = !git push && hub pull-request
    hist = log --graph --pretty=graph --date=short --decorate -n 10
    history = log --graph --pretty=graph --date=short --decorate
    ignored = ls-files -o -i --exclude-standard
    rubocop = !git ls-files -m | xargs rubocop
    fixup = rebase -i --autosquash

[pager]
    hist = less -FX

#
# UI
#

[color]
    diff = auto
    status = auto
    branch = auto
    ui = auto
    interactive = auto
    pager = true

[color "status"]
    added = green
    changed = yellow
    untracked = red

[diff]
    # Try and break diffs at blank lines.
    compactionHeuristic = true

[commit]
    # Always show verbose commits
    verbose = true

#
# Utilities
#

[merge]
    tool = meld

[gui]
    historybrowser = gitg

[cola]
    tabwidth = 4
    fontdiff = DejaVu Sans Mono,9,-1,5,50,0,0,0,0,0

#
# GitHub
#

# Always use SSH transport instead of HTTPS
[url "git@github.com:"]
    insteadOf = https://github.com/

[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
