---
imports:
  aws-vault: 'roles/stage2-user/files/.local/bin/'
  dracula: 'roles/stage3-gui/files/.config/tilix/schemes'
  fantasque: 'roles/stage3-gui/files/.fonts'
  fantasque-nerd: 'roles/stage3-gui/files/.fonts'
  fixup|fixup-bin: 'roles/stage2-user/files/.local/bin/'
  fixup|fixup-zsh: 'roles/stage2-user/files/.local/share/zsh/'
  just|just-bin: 'roles/stage2-user/files/.local/bin/'
  just|just-man: 'roles/stage2-user/files/.local/share/man/man1/'
  miniplug: 'roles/stage2-user/files/.local/share/zsh/'
  starship: 'roles/stage2-user/files/.local/bin/'

curl module aws-vault:
  url: https://github.com/99designs/aws-vault/releases/download/v6.6.0/aws-vault-linux-amd64
  sha1: 5d6d22b4fb7d24826816673d39a91e0357d3e6d6
  move:
    aws-vault-linux-amd64: aws-vault
  executable:
    - aws-vault

curl module miniplug:
  url: https://git.sr.ht/~yerinalexey/miniplug/blob/master/miniplug.zsh
  sha1: cc87eb8d24214df257d2809823869786b78d779d

curl module dracula:
  url: https://github.com/dracula/tilix/archive/master.zip
  unpack: zip
  move:
    tilix-master/Dracula.json: Dracula.json
  pick:
    - Dracula.json
  sha1: fa1b5484eb419e4ed573b070596df9aee60b9220

curl module fantasque:
  url: https://github.com/belluzj/fantasque-sans/releases/download/v1.8.0/FantasqueSansMono-Normal.zip
  unpack: zip
  export: TTF/
  sha1: 54cf092de3ad5785f80bc198809837096f16966b

curl module fantasque-nerd:
  url: https://github.com/ryanoasis/nerd-fonts/releases/download/v2.2.2/FantasqueSansMono.zip
  unpack: zip
  drop:
    - "* Windows Compatible.ttf"
    - "* Mono.ttf" # The original is already mono.
    - "readme.md"
  sha1: 4d353013b61eaeef399cc5413a1e2f640c0ac0d4

git module fixup:
  url: https://github.com/keis/git-fixup.git
  rev: 76c688c5582c5bd417231696ec4617f7d2de9bf8

rule fixup-bin:
  pick:
    - git-fixup
  executable:
    - git-fixup

rule fixup-zsh:
  copy:
    completion.zsh: fixup.zsh
  pick:
    - fixup.zsh

curl module just:
  url: https://github.com/casey/just/releases/download/1.4.0/just-1.4.0-x86_64-unknown-linux-musl.tar.gz
  unpack: tar
  sha1: ab323d0d1617c74d79427f1d596f25e7cb3c28b9

rule just-bin:
  pick:
    - just
  executable:
    - just

rule just-man:
  pick:
    - just.1

curl module starship:
  url: https://github.com/starship/starship/releases/latest/download/starship-x86_64-unknown-linux-musl.tar.gz
  unpack: tar
  sha1: 3770fed174277f8fffe629bbe593bb382aae8797
  pick:
    - starship
  executable:
    - starship
