---
imports:
  atuin|atuin-bin: 'roles/stage2-user/files/.local/bin/'
  atuin|atuin-zsh: 'roles/stage2-user/files/.local/share/zsh/'
  difft: 'roles/stage2-user/files/.local/bin/'
  aws-vault: 'roles/stage2-user/files/.local/bin/'
  dracula: 'roles/stage3-gui/files/.config/tilix/schemes'
  fantasque: 'roles/stage3-gui/files/.fonts'
  fantasque-nerd: 'roles/stage3-gui/files/.fonts'
  fixup|fixup-bin: 'roles/stage2-user/files/.local/bin/'
  fixup|fixup-zsh: 'roles/stage2-user/files/.local/share/zsh/'
  just|just-bin: 'roles/stage2-user/files/.local/bin/'
  just|just-man: 'roles/stage2-user/files/.local/share/man/man1/'
  kubectx: 'roles/stage2-user/files/.local/bin/'
  kubens: 'roles/stage2-user/files/.local/bin/'
  miniplug: 'roles/stage2-user/files/.local/share/zsh/'
  starship: 'roles/stage2-user/files/.local/bin/'

curl module atuin:
  url: https://github.com/ellie/atuin/releases/download/v14.0.1/atuin-v14.0.1-x86_64-unknown-linux-gnu.tar.gz
  unpack: tar
  export: atuin-v14.0.1-x86_64-unknown-linux-gnu

rule atuin-bin:
  pick:
    - atuin
  executable:
    - atuin

rule atuin-zsh:
  copy:
    completions/_atuin: atuin.zsh
  pick:
    - atuin.zsh

curl module aws-vault:
  url: https://github.com/99designs/aws-vault/releases/download/v6.6.0/aws-vault-linux-amd64
  sha1: 5d6d22b4fb7d24826816673d39a91e0357d3e6d6
  move:
    aws-vault-linux-amd64: aws-vault
  executable:
    - aws-vault


curl module difft:
  url: https://github.com/Wilfred/difftastic/releases/download/0.47.0/difft-x86_64-unknown-linux-gnu.tar.gz
  unpack: tar
  pick:
    - difft
  executable:
    - difft

curl module miniplug:
  url: https://git.sr.ht/~yerinalexey/miniplug/blob/master/miniplug.zsh
  sha1: 4b9e4bc549f7fed040a2058adcc76274b95003ed

curl module dracula:
  url: https://github.com/dracula/tilix/archive/master.zip
  unpack: zip
  move:
    tilix-master/Dracula.json: Dracula.json
  pick:
    - Dracula.json
  sha1: fa1b5484eb419e4ed573b070596df9aee60b9220

curl module fantasque:
  url: https://github.com/belluzj/fantasque-sans/releases/download/v1.8.0/FantasqueSansMono-Normal.zip
  unpack: zip
  export: TTF/
  sha1: 54cf092de3ad5785f80bc198809837096f16966b

curl module fantasque-nerd:
  url: https://github.com/ryanoasis/nerd-fonts/releases/download/v2.2.2/FantasqueSansMono.zip
  unpack: zip
  drop:
    - "* Windows Compatible.ttf"
    - "* Mono.ttf" # The original is already mono.
    - "readme.md"
  sha1: 4d353013b61eaeef399cc5413a1e2f640c0ac0d4

git module fixup:
  url: https://github.com/keis/git-fixup.git
  rev: 76c688c5582c5bd417231696ec4617f7d2de9bf8

rule fixup-bin:
  pick:
    - git-fixup
  executable:
    - git-fixup

rule fixup-zsh:
  copy:
    completion.zsh: fixup.zsh
  pick:
    - fixup.zsh

curl module just:
  url: https://github.com/casey/just/releases/download/1.4.0/just-1.4.0-x86_64-unknown-linux-musl.tar.gz
  unpack: tar
  sha1: ab323d0d1617c74d79427f1d596f25e7cb3c28b9

rule just-bin:
  pick:
    - just
  executable:
    - just

rule just-man:
  pick:
    - just.1

curl module kubectx:
  url: https://github.com/ahmetb/kubectx/releases/download/v0.9.4/kubectx
  executable: kubectx

curl module kubens:
  url: https://github.com/ahmetb/kubectx/releases/download/v0.9.4/kubens
  executable: kubens

curl module starship:
  url: https://github.com/starship/starship/releases/latest/download/starship-x86_64-unknown-linux-musl.tar.gz
  unpack: tar
  pick:
    - starship
  executable:
    - starship
